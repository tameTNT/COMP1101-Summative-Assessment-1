<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>AoC Highlights</title>

  <!-- Fonts & icons-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
        rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap"
        rel="stylesheet">

  <!-- Code syntax highlighting with highlight.js -->
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.3.1/build/styles/github-dark.min.css">
  <script
      src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.3.1/build/highlight.min.js"></script>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
        crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
          crossorigin="anonymous" defer></script>

  <!-- Own sources inc. favicon, JS and CSS -->
  <link rel="icon" type="image/x-icon" href="favicon.png">
  <script src="index.js" defer></script>
  <link href="index.css" rel="stylesheet">
</head>

<body class="p-3">
  <header>
    <div class="d-flex justify-content-center align-items-center">
      <span class="material-icons md-48 align-middle me-2">terminal</span>
      <h1><span class="align-middle">AoC Highlights</span></h1>
    </div>

    <div class="d-flex justify-content-end align-items-center mt-3 mb-3">
      <div class="w-50 text-end">
        <span class="material-icons md-24 align-text-bottom">
        sort
        </span>
        Sort by:
      </div>
      <div class="ms-2">
        <select class="form-select" aria-label=".form-select sort-by" id="sortingOption">
          <option selected value="time">Recency</option>
          <option value="like">Likes</option>
        </select>
      </div>
    </div>
  </header>

  <main>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 g-4" id="cards">
      <div class="col">
        <div class="card h-100">
          <h5 class="card-header">Featured</h5>
          <div class="card-body">
            <h5 class="card-title">Python</h5>
            <h6 class="card-subtitle mb-2 text-muted">Language: python</h6>
            <pre><code class="language-python code-text" tabindex="0">value, loop_size = 1, 0
while value != (card_public_key := 19774466):
    value = value * 7 % 20201227</code></pre>
            <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                    data-bs-target="#postModal">See post
            </button>
          </div>
          <div class="card-footer text-muted">
            <div class="d-flex justify-content-between">
              <div class="text-danger" id="card1Likes">
                <a href="#" class="text-danger" style="letter-spacing: -3px;"><3</a> 15
              </div>
              <div>
                <span class="material-icons align-middle md-24">forum</span> 10
              </div>
              <div class="text-start">
                2 days ago
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">Python</h5>
            <h6 class="card-subtitle mb-2 text-muted">Language: python</h6>
            <p class="card-text">Quick preview</p>
            <a href="#" class="btn btn-primary">Go somewhere</a>
          </div>
          <div class="card-footer text-muted">
            2 days ago
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">Python</h5>
            <h6 class="card-subtitle mb-2 text-muted">Language: python</h6>
            <p class="card-text">Quick preview</p>
            <a href="#" class="btn btn-primary">Go somewhere</a>
          </div>
          <div class="card-footer text-muted">
            5 hours ago
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">Python</h5>
            <h6 class="card-subtitle mb-2 text-muted">Language: python</h6>
            <p class="card-text">Quick preview</p>
            <a href="#" class="btn btn-primary">Go somewhere</a>
          </div>
          <div class="card-footer text-muted">
            1 day ago
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card h-100" aria-hidden="true">
          <div class="card-body">
            <h5 class="card-title placeholder-glow">
              <span class="placeholder col-4 rounded-pill"></span>
            </h5>
            <h6 class="card-subtitle placeholder-glow mb-2">
              <span class="placeholder col-8 rounded-pill bg-secondary"></span>
            </h6>
            <p class="card-text placeholder-glow">
              <span class="placeholder col-6 rounded-pill"></span>
              <span class="placeholder col-4 rounded-pill"></span>
              <span class="placeholder col-7 rounded-pill"></span>
            </p>
            <a href="#" class="btn btn-primary disabled placeholder col-4"></a>
          </div>
          <div class="card-footer text-muted placeholder-glow">
            <span class="placeholder col-5 rounded-pill"></span>
          </div>
        </div>
      </div>
    </div>

    <div id="postModals">
      <div class="modal fade" id="postModal" tabindex="-1" aria-labelledby="post1ModalLabel"
           aria-hidden="true">
        <div
            class="modal-dialog modal-fullscreen-md-down modal-dialog-scrollable modal-dialog-centered modal-xl">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Modal title</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal"
                      aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <pre class="mb-0"><code class="language-perl code-text" tabindex="0">sub step($value, $subject_number) { ($value * $subject_number) % 20201227 }

my $value = my $loops = 1;
$loops++ until ($value = step $value, 7) == (state $pub //= <>);
say reduce { step $a, state $pub //= <> } 1, 1 .. $loops;</code></pre>
              <a href="#" class="btn btn-outline-primary mt-3 mb-2">Reddit link</a>
              <p class="mb-0">
                This is some placeholder content to show the scrolling behavior for modals. We use
                repeated line breaks to
                demonstrate how content can exceed minimum inner height, thereby showing inner
                scrolling. When content
                becomes longer than the predefined max-height of modal, content will be cropped and
                scrollable within the
                modal.
              </p>
              <div class="d-flex justify-content-center align-items-center">
                <span class="material-icons md-36 align-middle me-2">forum</span>
                <h1><span class="align-middle">Comments</span></h1>
              </div>
              <div class="input-group mt-2 mb-2">
                <span class="input-group-text">Comment:</span>
                <textarea class="form-control" aria-label="With textarea"></textarea>
                <button class="btn btn-outline-secondary" type="button">Post</button>
              </div>
              <ul class="list-group list-group-flush">
                <li class="list-group-item">
                  <div class="d-flex justify-content-between">
                    <div>
                      A comment shortened to one lin...
                    </div>
                    <div class="text-muted">
                      1 day ago
                    </div>
                  </div>
                </li>
                <!-- todo: shorten comments via JS adapting to device width -->
                <li class="list-group-item">Another comment which is much ...</li>
                <li class="list-group-item">Short comment</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <a href="#" class="float-button btn btn-success" data-bs-toggle="modal"
       data-bs-target="#newCardModal">
      <span class="material-icons md-36">post_add</span>
    </a>

    <div class="modal fade" id="newCardModal" tabindex="-1" aria-labelledby="newCardModalLabel"
         aria-hidden="true">
      <div
          class="modal-dialog modal-fullscreen-lg-down modal-dialog-scrollable modal-dialog-centered modal-xl">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">New Post</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" tabindex="0"
                    aria-label="Close" id="newCardFormModalCloseButton"></button>
          </div>
          <div class="modal-body">
            <form id="newCardForm">
              <div class="form-floating m-3">
                <input class="form-control" id="newCardTitleInput" name="title"
                       placeholder="A Wacky Post Title" tabindex="0"
                       required>
                <label for="newCardTitleInput">Post Title</label>
              </div>

              <select class="form-select m-3 w-75" aria-label="Select Language" name="language"
                      id="languageSelect" tabindex="0"
                      required>
                <option value="" selected disabled>Select Language</option>
              </select>

              <div class="form-floating m-3 flex-nowrap">
                <textarea class="form-control code-text"
                          name="code" tabindex="0"
                          spellcheck="false" id="newCardCodeInput"
                          style="height: 100px; white-space: pre"
                          required>print('Hello World')</textarea>
                <label for="newCardCodeInput">Code</label>
              </div>

              <a class="btn btn-secondary ms-3 me-3" data-bs-toggle="collapse"
                 href="#collapseCodePreview" tabindex="0"
                 role="button" aria-expanded="false" aria-controls="collapseCodePreview">
                Show/hide code preview
              </a>
              <div class="collapse m-3" id="collapseCodePreview">
                <div class="card card-body">
                  <div id="codeInputPreview" class="code-text language-python p-2"
                       style="white-space: pre" tabindex="0"></div>
                </div>
              </div>

              <div class="form-floating m-3">
                <!-- todo: add validation stuff (https://getbootstrap.com/docs/5.0/forms/validation/)
                including ' is-invalid' to class when validating reddit link via api -->
                <input type="text"
                       pattern="https://www.reddit.com/r/adventofcode/comments/(\w*)/comment/(\w*)(/(\?.*)?)?"
                       class="form-control" id="newCardRedditUrl" name="redditUrl" tabindex="0"
                       required>
                <label for="newCardRedditUrl">Reddit URL</label>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-primary" form="newCardForm" id="newCardSubmit"
                    tabindex="0">
              Post!
            </button>
          </div>
        </div>
      </div>
    </div>
  </main>

</body>
</html>
